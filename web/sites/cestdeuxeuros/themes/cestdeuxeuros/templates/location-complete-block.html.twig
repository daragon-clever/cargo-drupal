<div class="container">
    <div class="row store-info">
        <div class="col-auto">
            <img src="/sites/cestdeuxeuros/themes/cestdeuxeuros/images/store-locator/picto_map_store_detail.png"
                 alt="Adresse magasin C'est Deux euros" />
        </div>
        <div class="col">
            <div class="name">{{ location.name }}</div>
            <div class="store-locator-opening-state {% if location.isStoreOpen %}open{% else %}closed{% endif %}">
                {% if location.isStoreOpen %}
                    <span>Ouvert</span>
                {% else %}
                    <span>Fermé</span>
                {% endif %}
            </div>
            <div class="address">
                {{ "%s %s %s %s %s"|format(location.address.line1, location.address.line2, location.address.line3, location.address.postCode, location.address.city) }}
            </div>

            <div class="tel">
                {%  if location.getMainPhoneNumber is not null %}
                    <span>{{ location.getMainPhoneNumber.getNumber }}</span>
                {% endif %}
            </div>
            <div class="mail">
                {%  if location.getEmail is not null %}
                    <a href="mailto:{{ location.getEmail.email }}">Contacter le magasin</a>
                {% endif %}
            </div>
        </div>

        <div class="col">
            <div class="opening-hours">
                <span class="title">Horaires d'ouverture</span>
                <ul>
                    {% for day, openingHours in location.getFormattedOpeningHours %}
                        <li><span>{{ day }}</span> {{ openingHours.range }}</li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <div class="col-auto no-padding">
            <div class="cta-wrapper">
                <ul class="ul-cta">
                    <li class="map">
                        <a
                                id='js-action-map'
                                href='#'
                                location-id='{{ location.id }}'
                                location-latitude='{{ location.address.geoLocation.latitude }}'
                                location-longitude='{{ location.address.geoLocation.longitude }}'
                                location-path='{{ storeUrl }}'
                        >
                            <span>
                                <svg viewBox="0 0 121.07 129.93">
                                    <path d="M24.5,20.56s9,15,5,14-20-5-23-3-5,7-5,9,4,3,7,5S30,56.06,33,73.06c.85,4.8-7-2-7.5-.5-1,3,6,11,3,18s-14,24-11,25,43,6,55,12c0,0,1-19,5-19s17,9,20,7,15-10,15-12-12-35-11-36,11-10,10-12-2-8,5-12,.5-11.5-4.5-11.5-28.5-9.5-33.5-17.5-9-16-14-12-13,22-19,22S32.5,12.56,24.5,20.56Z" style="fill:none;stroke:#00a1d4;stroke-miterlimit:10;stroke-width:3px"/>
                                </svg>
                                <span class="d-none d-lg-block">Afficher <br />la carte</span>
                                <span class="d-lg-none d-xl-none">Carte</span>
                            </span>
                        </a>
                    </li>
                    <li class="travel">
                        <a href='https://www.google.com/maps/dir/?api=1&destination={{ "%s,%s"|format(location.address.geoLocation.latitude, location.address.geoLocation.longitude) }}' target="_blank">
                                        <span>
                                            <svg viewBox="0 0 144.12 127.48">
                                                <path d="M20.21,1.5A18.73,18.73,0,0,0,1.5,20.21C1.5,33,18.25,51.82,19,52.61a1.68,1.68,0,0,0,2.51,0c.71-.79,17.46-19.59,17.46-32.4A18.74,18.74,0,0,0,20.21,1.5Zm0,28.13a9.42,9.42,0,1,1,9.42-9.42A9.43,9.43,0,0,1,20.21,29.63Z" style="fill:none;stroke:#e4087f;stroke-miterlimit:10;stroke-width:3px"/>
                                                <path d="M117.56,52A25.09,25.09,0,0,0,92.5,77c0,17.15,22.43,42.32,23.38,43.38a2.26,2.26,0,0,0,3.36,0c1-1.06,23.38-26.23,23.38-43.38A25.09,25.09,0,0,0,117.56,52Zm0,37.66A12.61,12.61,0,1,1,130.17,77,12.62,12.62,0,0,1,117.56,89.64Z" style="fill:none;stroke:#e4087f;stroke-miterlimit:10;stroke-width:3px"/>
                                                <path d="M29.43,52.48s.91-.11,2.48-.26" style="fill:none;stroke:#e4087f;stroke-miterlimit:10;stroke-width:2px"/>
                                                <path d="M36.9,51.77c12.81-1.05,37.93-2.28,41.53,3.71,6,10-66,12-65,26,1.07,15,63,0,72,9s-26,15-29,24c-3.78,11.34,20.11,14.64,48.07,9.91" style="fill:none;stroke:#e4087f;stroke-miterlimit:10;stroke-width:2px;stroke-dasharray:5.010647773742676,5.010647773742676"/>
                                                <path d="M107,124l2.46-.47" style="fill:none;stroke:#e4087f;stroke-miterlimit:10;stroke-width:2px"/>
                                            </svg>
                                            <span class="d-none d-lg-block">Calculer <br />l'itinéraire</span>
                                            <span class="d-lg-none d-xl-none">Itinéraire</span>
                                        </span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div id="js-map-container">
    <div id="map_target" style="display: none" >

    </div>
</div>
