{#
/**
* @file
* Location partial block
*
* @see template_preprocess_block()
*
* @ingroup themeable
*/
#}

{% set storeUrl = "/%s/%s/%s"|format(routingItemKey, location.externalId, location.name|url_encode) %}
<div class="js-store-block">
    <div>
        <div class="infos-wrapper">
            <div class="distance px-4">
                <span>{{ "Ã  %s km"|format(location.getDistance|round) }}</span>
            </div>
            <div class="info-mag">
                <div class="title">
                    <a  class="d-none d-lg-block"
                        id='js-action-map'
                        href='#'
                        location-id='{{ location.id }}'
                        location-latitude='{{ location.address.geoLocation.latitude }}'
                        location-longitude='{{ location.address.geoLocation.longitude }}'
                        location-path='{{ storeUrl }}'
                        location-map-target='storelocator-map'
                    >
                        {{ location.getName }}
                    </a>
                    <a  class="d-lg-none"
                        id='js-action-map'
                        href='#'
                        location-id='{{ location.id }}'
                        location-latitude='{{ location.address.geoLocation.latitude }}'
                        location-longitude='{{ location.address.geoLocation.longitude }}'
                        location-path='{{ storeUrl }}'
                    >
                        {{ location.getName }}
                    </a>
                </div>
                <div class="address">
                    {{ "%s %s %s %s %s"|format(location.address.line1, location.address.line2, location.address.line3,
                        location.address.postCode, location.address.city) }}
                </div>
                <div class="phone">
                    {% if location.getWebContact.getPhoneNumber.getNationalNumber %}
                        <span>{{ location.getWebContact.getPhoneNumber.getNationalNumber }}</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Pour mobile -->
<div id="js-map-container">
    <div id="map_target_{{ location.id }}" style="display:none;" ></div>
</div>